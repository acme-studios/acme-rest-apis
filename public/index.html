<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Social Media API - Documentation</title>
  <meta name="description" content="Enterprise-grade social media REST API with Cloudflare API Shield">
  
  <style>
    body {
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <!-- Redoc container -->
  <div id="redoc-container"></div>
  
  <!-- Load Redoc -->
  <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"></script>
  
  <script>
    // Detect system theme preference
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    // Stunning theme configuration
    const theme = {
      colors: {
        primary: {
          main: '#F6821F', // Cloudflare Orange
        },
        success: {
          main: '#10b981',
        },
        warning: {
          main: '#f59e0b',
        },
        error: {
          main: '#ef4444',
        },
        text: {
          primary: isDarkMode ? '#f5f5f5' : '#1a1a1a',
          secondary: isDarkMode ? '#a3a3a3' : '#666666',
        },
        border: {
          dark: isDarkMode ? '#2a2a2a' : '#e5e5e5',
          light: isDarkMode ? '#1a1a1a' : '#f5f5f5',
        },
        responses: {
          success: {
            color: '#10b981',
            backgroundColor: isDarkMode ? 'rgba(16, 185, 129, 0.1)' : 'rgba(16, 185, 129, 0.05)',
          },
          error: {
            color: '#ef4444',
            backgroundColor: isDarkMode ? 'rgba(239, 68, 68, 0.1)' : 'rgba(239, 68, 68, 0.05)',
          },
          redirect: {
            color: '#3b82f6',
            backgroundColor: isDarkMode ? 'rgba(59, 130, 246, 0.1)' : 'rgba(59, 130, 246, 0.05)',
          },
          info: {
            color: '#06b6d4',
            backgroundColor: isDarkMode ? 'rgba(6, 182, 212, 0.1)' : 'rgba(6, 182, 212, 0.05)',
          },
        },
        http: {
          get: '#10b981',
          post: '#3b82f6',
          put: '#f59e0b',
          options: '#06b6d4',
          patch: '#8b5cf6',
          delete: '#ef4444',
          basic: '#999',
          link: '#F6821F',
          head: '#9012fe',
        },
      },
      schema: {
        linesColor: isDarkMode ? '#2a2a2a' : '#e5e5e5',
        defaultDetailsWidth: '75%',
        typeNameColor: isDarkMode ? '#a3a3a3' : '#666666',
        typeTitleColor: isDarkMode ? '#f5f5f5' : '#1a1a1a',
        requireLabelColor: '#ef4444',
        labelsTextSize: '0.9em',
        nestingSpacing: '1em',
        nestedBackground: isDarkMode ? '#0a0a0a' : '#fafafa',
        arrow: {
          size: '1.1em',
          color: isDarkMode ? '#666666' : '#999999',
        },
      },
      typography: {
        fontSize: '16px',
        lineHeight: '1.6em',
        fontWeightRegular: '400',
        fontWeightBold: '600',
        fontWeightLight: '300',
        fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
        smoothing: 'antialiased',
        optimizeSpeed: true,
        headings: {
          fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
          fontWeight: '600',
          lineHeight: '1.4em',
        },
        code: {
          fontSize: '14px',
          fontFamily: '"SF Mono", Monaco, "Cascadia Code", "Roboto Mono", Consolas, "Courier New", monospace',
          lineHeight: '1.5em',
          fontWeight: '400',
          color: '#F6821F',
          backgroundColor: isDarkMode ? '#1a1a1a' : '#f5f5f5',
          wrap: false,
        },
        links: {
          color: '#F6821F',
          visited: '#e57310',
          hover: '#ff9940',
          textDecoration: 'none',
        },
      },
      sidebar: {
        backgroundColor: isDarkMode ? '#000000' : '#ffffff',
        width: '280px',
        textColor: isDarkMode ? '#f5f5f5' : '#1a1a1a',
        activeTextColor: '#F6821F',
        groupItems: {
          activeBackgroundColor: isDarkMode ? '#1a1a1a' : '#fff5ed',
          activeTextColor: '#F6821F',
          textTransform: 'none',
        },
        level1Items: {
          activeBackgroundColor: isDarkMode ? '#1a1a1a' : '#fff5ed',
          activeTextColor: '#F6821F',
          textTransform: 'none',
        },
        arrow: {
          size: '1.2em',
          color: isDarkMode ? '#666666' : '#999999',
        },
      },
      logo: {
        maxHeight: '50px',
        maxWidth: '200px',
        gutter: '20px',
      },
      rightPanel: {
        backgroundColor: isDarkMode ? '#0a0a0a' : '#1a1a1a',
        width: '40%',
        textColor: '#f5f5f5',
      },
      codeBlock: {
        backgroundColor: isDarkMode ? '#000000' : '#1a1a1a',
      },
    };
    
    // Initialize Redoc with custom theme
    Redoc.init(
      '/openapi.yaml',
      {
        scrollYOffset: 0,
        hideDownloadButton: false,
        disableSearch: false,
        expandResponses: '200,201',
        requiredPropsFirst: true,
        sortPropsAlphabetically: false,
        showExtensions: true,
        nativeScrollbars: false,
        pathInMiddlePanel: false,
        untrustedSpec: false,
        hideHostname: false,
        expandSingleSchemaField: true,
        jsonSampleExpandLevel: 2,
        hideSchemaTitles: false,
        simpleOneOfTypeLabel: false,
        payloadSampleIdx: 0,
        theme: theme,
      },
      document.getElementById('redoc-container')
    );
    
    // Listen for theme changes and reload
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      location.reload();
    });
  </script>
</body>
</html>
